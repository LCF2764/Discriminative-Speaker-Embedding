clear
close all;

lr = [0.000010
0.000012
0.000013
0.000015
0.000017
0.000020
0.000023
0.000027
0.000031
0.000035
0.000040
0.000047
0.000054
0.000062
0.000071
0.000081
0.000094
0.000108
0.000124
0.000142
0.000164
0.000188
0.000216
0.000249
0.000286
0.000329
0.000379
0.000435
0.000501
0.000576
0.000662
0.000761
0.000876
0.001007
0.001158
0.001332
0.001532
0.001761
0.002025
0.002329
0.002679
0.003080
0.003542
0.004074
0.004685
0.005388
0.006196
0.007125
0.008194
0.009423
0.010837
0.012462
0.014331
0.016481
0.018953
0.021796
0.025066
0.028826
0.033149
0.038122
0.043840
0.050416
0.057978
0.066675
0.076676
0.088178
0.101405
0.116615
0.134108
0.154224
0.177357
0.203961
0.234555
0.269738
0.310199
0.356729
0.410238
0.471774
0.542540
0.623921
0.717509
0.825135
0.948905
1.091241
1.254927
1.443166
1.659641
1.908588
2.194876
2.524107
2.902723
3.338132
3.838852
4.414679
5.076881
5.838413
6.714175
7.721302
8.879497
10.211421];

loss = [7.862374
7.870405
7.771949
7.787009
7.566071
7.733312
6.704276
7.570509
6.750152
7.261982
6.866084
6.672805
6.590648
6.298755
6.757052
6.595728
6.486756
5.642969
6.621517
6.393176
6.472243
6.267687
6.596249
6.058064
6.151696
6.340888
5.645424
6.459932
6.390144
5.754430
5.931551
5.213816
5.011546
6.196012
5.601851
4.494273
5.674572
5.236257
5.222935
5.152613
5.424874
4.766945
4.949891
4.694318
4.824037
4.918430
4.113710
4.040040
4.822907
3.912708
4.655045
4.444558
4.385447
4.390773
4.715075
4.955003
4.506167
4.952337
4.916849
4.933915
5.132740
4.584652
5.110647
5.910470
5.527468
5.851896
5.173183
5.006588
5.238864
6.415123
5.679238
6.092204
5.951892
6.053728
5.838257
6.347813
5.253940
5.873345
5.180672
6.765231
6.544772
6.581923
6.521677
6.496094
6.449677
6.650800
6.242509
6.709395
6.472134
6.652347
6.052146
7.097000
7.214063
6.960054
6.783081
6.404983
6.553833
6.387044
7.082532
6.591753
];

sma = 1;
derivatives = (loss(1+sma:end) - loss(1:end-sma))/sma;
derivatives = filter(ones(1,5)/5,1,derivatives);
figure();
semilogx(lr, loss);
figure();
semilogx(lr(2:end), derivatives)

